package com.team.erik

import scala.collection.mutable
import scala.io.Source
import scala.util.control.Breaks._
import scala.collection.parallel.CollectionConverters._
import java.nio.file.{Files, Paths, StandardOpenOption}

import com.core._
import com.core.alphabets._
import com.core.keys.KeyFactory
import com.core.languagedata.DataTable
import com.core.evolutionaryalgorithms._
import com.core.ciphers._
import com.core.extensions._
import com.core.analysers._
import com.core.cipherdata._
import com.core.extensions.BiMapExtensions._
import com.core.collections._
import com.core.extensions.StringExtensions.highlight
import com.core.progressbar.ProgressBar
import com.core.keys.KeyFactory.random
import scala.annotation.alpha
import com.core.extensions.IterableExtensions.pretty
import com.core.cipherbreakers._
import com.core.extensions.SeqExtensions.swapRandom
import spire.math.Algebraic.Expr.Sub
import scala.annotation.switch

object Main {
    def loadData(): (CipherDataBlock[Char], CipherFormatResult) = {
        val path = Paths.get(".\\resources\\text\\Orwell1984.txt")
        val text = Source.fromFile(path.toFile, "UTF-8").take(1000).mkString
        CipherDataBlock.formatAndCreate(text, UppercaseLettersNoJ)
    }

    def saveText(text: String, path: String): Unit = {
        if (Files.exists(Paths.get(path))) {
            throw new Exception(s"File already exists: $path")
        }
        Files.write(Paths.get(path), text.getBytes(), StandardOpenOption.CREATE)
    }

    def job() = {
        val ciphertext = """||/\| |\||/ ||/|| \|||/ ||\|/ ||||\ ||\/| ||/|| \|||| \/||| ||\/| /|||\ |/|\| |/||| |\||\ /|||/ \|||| /||\| |||\/ |/||| |\||| /\|/| |\||| /\||| ||||/ \||\/ ||/|| \||\/ ||||/ ||||\ |/\|| |||/\ |||/| |\||| \/||| ||\/| ||||\ /|||| /\||| /\||| /|\|\ |/||| |||/\ |/||\ |||/| |\||| \/||| ||\/| ||||\ //||| |\||| /\|/| |\||| |||\/ |/|\| |/||| |\||| |\/\| |/||| |||/\ \|/|| |/||| |\||\ /|||/ ||\|/ |||\| ||||/ \|||| \/|/| \|||| |\/|| |||\/ ||/|\ ||/\| |||/\ |||/| |||\| |||\/ /|||| \|/\| ||||| |/\|| |\/|| ||\/| |/||| \|||| /\||| /\||/ |||\| /||\| ||\/| ||||/ \|||/ |\||| |/\|/ |\||| ||||\ /|/|\ |||/| |\||| /\||| /||\| ||||\ /|/|\ ||||| |/\/| |\||\ |/||| |||\/ ||/|| \|/|| \|||| ||\/| |||/\ |||\/ |||/\ ||\|/ |||/| \|||/ |\||| |/\|| ||/|| \||/| ||\|| ||/\| ||/\| ||||\ /||\/ ||/|| ||\/| ||\|/ ||||\ |||/\ |/||\ ||||/ |\||| |/\|| |||\/ ||||/ \|||| /\\|/ ||||| \/||| /|||\ ||||/ \\|/| ||||| /\||| ||\/| |\/|| \||/| |||/| \||/| \||/| |||\/ ||\|| ||||\ /|/|\ ||||| |/\\| /|||/ |\||| |/|\| ||||| \/||/ |\||| ||\/| |\/|| /|||| \|||| \/|/| \|||/ ||\|| |\/|| ||||/ \/||| \||\| /|||| /|\|| |||/\ \|/|| ||||\ /|/|\ ||||| /|\|| \|/|| |/||\ ||||/ \|||| |\/|/ |\||| /||\| ||/|\ ||||/ \|||/ ||\|| ||/\| |\/|| ||/\| |/||| |\||| |\/|| /|\|| |||/\ |||/\ |||/| |\\|/ ||||| \/||| ||/\| ||/|\ ||||\ /||/| \|||/ ||\|/ ||\|| /|||\ |\||/ ||||| |/\\| /|||| |\/|| ||||/ \||\| /|||| /\|/| |\||| /||\| /|||| \||\/ ||/\| |||/| |||\| |||\/ |/||\ ||/|\ ||||| |/\|| \|/|| /||\| |\|/| ||/|| \|||\ /|||| ||\/| |/|\| ||/\| ||/|| \|||/ |\||| |\/|\ /|||| /|||| \|||\ /|||| \/||| /|\|| ||/\| /|\|| |/||| |\||| /\|/| |\||| |/|\| ||/\| |\|/| ||||| \/||| ||\/| /||\| |||\| /\/|| |||/\ |||/| |||\| |/|\| |||/\ ||||| \/|/| \|||/ ||\|| |\/|| \|/|| ||||\ /||/| |\||| |\/|| |||/\ ||||\ /|/|\ ||/|| ||\|| ||\/| |\|/| |/||\ |||/\ ||/|| ||\\| |/||| |/\|| ||||/ \|\|/ |||/| |\||| ||/\| ||/\| ||||\ /|||| /\||/ \|||| ||/\| |\/|| |/||\ |\/|| ||||\ /|||/ ||\|| ||\/| |||\/ |||/| \|||| /\|/| \|||| |/|\| |||\/ ||||\ /|\|/ ||||/ ||\|| ||\/| ||||\ /|/|\ |||/| |\|/| ||\|\ |/||| |/\|| ||/\| |||/| |\||| ||\/| ||\/| ||\|/ ||/|| \|||\ /|||/ ||\|| ||\/| |/|\| |||/| \|\/| |||\/ ||||| /||\| /||\| |||/| \|||| /\|/| ||\|| |||/\ |||\| /|/|| \|||| \/|\/ ||||/ ||||\ |/||| \/\|| |||/| |\|/| |\||| /||\| /||\| |/|\| |||/| |\||| ||\/| |||/\ |/||\ |/||\ ||/|\ ||||/ ||\|| |/|\| |||/\ ||||| \/|/| \|||/ ||\|| /|||\ ||\/| |/||| |\||| |\/|/ ||\|| ||\/| ||\|/ |||/| \|||| |\/|/ |\||| |||/\ |||/\ ||/|| \||/| ||\|| \/||/ ||||\ ||||\ /|/|| \||/| |\||| /\||\ /|||| ||||\ /||/| \||/| |\|/| |\||| |||/\ ||/|| \/||| |\|/\ ||||/ \|||/ |||\| \|/|| ||||| \/||| |\/|| \|/|| |||/\ |/|\| |\|/| ||||| /\|/| |\||| |\/|| |/||\ |/||\ ||||/ ||\|/ \|||/ ||||\ ||||\ /|||| \/|/| |\||| |/\|| /||\| /||\| |/||| \|||| |/\|| |\|/| /||\| |||\/ ||||| \/|/| \|||/ ||\|| ||\/| |/||\ |||\| /|||| |/\\| /|||| /\||| /||\| |/||| \||/| |\||| |/\|| /||\| |/||\ |/||\ |||/| |\|/| |\||| /\||| /|||| \|||| \/|/| |\||| \/||| |||\/ |/|\| ||/|| \|||\ /|||/ ||\|| |/\|| /|||| \||/| \|||| /\||| /|\|| ||/\| /|\|| ||/|| |\/|| ||\\/ ||||/ ||||\ |/||| \||/| \|||| |\/\| |/||| |/|\| |||/\ ||||| \/|/| \|||/ ||\|| /|||\ ||\/| |/||| |\||| |\/|/ ||\|| |\|/| /|||| \|||\ /|\|/ ||||| |\/|| /||\| /||\| |||/| |\||| |/\|| \/||| |||\/ |/|\| ||/|| \|||| \/||| /\||\ |/||| /|\|| |/|\| |||/\ ||||/ ||\|/ ||\|| /|\|| ||||| /\||| |/\/| |\||| ||\/| /|||\ |\|/| ||||| |\/|| \|/|| /|\|| /|||| \|||| \/||| |/\|| /||\| |||\/ |/|\| ||||| /\||| \/||/ ||\|/ |||\| \|/|| ||/\| |||/\ ||||/ ||\|| |||\/ |||\/ ||||| \/|/| \|||/ ||\|/ |||\| ||||/ \|||\ |/|/| |\||| |\/|| |/|\| |||/\ ||||| \/|/| \|||/ ||\|| |||/\ ||||\ /|/|\ |||/| |\||| \/||| /|||\ ||\/| |/||| |\||| |\/|/ ||\|| ||\/| |/||\ |/||| |\|/| ||\|/ |\||| /|||\ ||||/ \|||/ \|||| |\//| |||\| |/|\| |||/\ ||/|| \|/|| \|||| ||\/| |\|/| |/||\ ||||/ \|||| |\/\| |/||| |||\/ |/|\| |||\/ |||/| |\||/ ||\|\ /|||| /|||| \|/|| |\/\| ||||/ ||\|/ ||\|| ||||\ /||/| \|/|\ ||||/ |\||| |||\/ ||/|\ |||\| /|||/ |\||/ \|||| /\||| |||\/ ||/|| \|||| /\|/| |\||\ ||/|| ||||/ \\|/| ||/|| ||\|| |\/|/ \|||| |/||\ ||||| \/|/| ||\|/ |\||| |||/\ ||/|| \|||| \/|/| \|||/ ||\|/ ||||\ ||\/| |||\/ ||/|| ||\|| |/\|/ |\||| |/||\ |||/\ |||/| |\||| |/\|| |||\/ ||||\ /|/|\ ||||/ |\||| |\/|/ ||||\ ||/|| \|||| \/|/| |\||| \/||| ||/\| ||||/ \|||| /\||| /\||| \|/|| /|\|| ||/|\ ||/|| |\|/| \|||| /\||/ ||||\ /\||| ||/|| \|||| \/||| /|\|| |||\/ /|||| \\/|| ||\/| |||/| |||\| |\/|| |/||\ ||||/ \|||| |\/|| ||\/| /|\|| /|||| \|||| \/||| |\/|/ |\||| /||\| /|||\ ||||| /\||| \|/|/ ||\|| ||\/| |/||| \|||| /\\|/ ||||/ \|||/ ||\|| |/||\ |/||| |\||| \/||| /|\|| /\||| \||/| |/||| |\|/| ||\|/ |||\| /||\| \/||| ||||| \/||| |\/|/ |\||| |/|\| |||\/ ||||/ \|\|/ ||||| /\||/ |||\| |/||\ |||\/ ||||\ |/||/ |\||| /||\| |||/\ |/\|| ||/|| ||\|| ||\/| /||\| ||/|\ ||||/ \|||| \/|\/ ||||| /||\| |/||| \|||| \/|/| |\|/| |\||| |||\/ |/|\| ||/|| \|/|| |\||| ||/\| ||\|/ |/||\ ||||\ /|||| \/||/ |\||| /||\| ||/|| \|||| /\\|/ ||||| |/\|/ ||\|| ||||\ /|/|\ ||/|| ||\|| ||\/| /||\| /|||| \|/|| |\|/| \|||/ |||\| |||/\ |||/\ ||||| \//|| ||\|| /|\|| ||/\| |/||\ |/||\ ||||| |/\|| |/\|| /\||| \||/| ||||| \/||\ |/||/ ||\|| ||/\| ||||\ /\||/ ||||| |\/|| \|/|| |||/\ /|||\ |\|/| |||/\ ||||/ \|||| /||\| ||||\ /|||\ /|||| |/\|| |/\|| /|||\ |/||\ ||||| \/|/| \|||/ ||\|| /|||\ \|/|| ||||\ /|||| |\/|| ||/\| |/\|| |||\/ ||||| /\||/ ||\|| /||\| |/|\| |/||| \||/| \|/|| ||\|/ \|||| ||\/| |/|\| |/||| |\/|| \|||| \/||| /||\| |/\|| ||/|| \|/|| ||\|| |\/|| /||\| /||\| ||||| \/|/| \|||/ ||\|| ||\/| |/|\| |||/| \|\/| ||||| /\||| /||\| |||/\ ||||| \/||| \/||| ||/\| |/\|| |/||\ ||||| /\||| /\||/ ||\|| |\/|| |/||\ |||/\ ||||| |/\|\ |/||| /||\| /||\| ||||| \/|/| \|||/ ||\|| /|||\ ||||/ \|||/ \|||| |\/|| \/||/ ||||\ /|||\ |/||| |\||| /\|/| |\||/ ||||\ |||/\ |/||\ ||||\ /|||/ ||\|/ ||\|| ||/|\ ||||\ /|||| |\/|| \/||| |/|\| /|||\ |\|/| ||||| |\/|/ ||\|/ ||\|| ||||\ /|/|\ |||/| |\|/| |||\| |/\|| ||/\| |\|/| ||||| /\||| /|\|| |||\/ ||/|\ ||||| /\||| /\||| ||/\| ||/\| |/||\ |/||| \|\|/ ||||/ \|||| /\||| |/||\ ||||| \/||\ |/|/| |||\| ||\/| ||||\ //||| |\/\| ||||/ ||\|| ||/\| ||/|| \||\/ ||||| |/\|| /\||| /||\| /|||| \|/|| |\|/| \||/| ||\|| |||/\ |||\| //||| |\||| /\|/| |\||| |||\/ ||||/ \/|\| |||/| |\||| ||\/| /|\|| |/||\ |||\/ ||||| |\/|/ |\||| /||\| \||/| |||\| /||/| |\||| \/||| /||\| \/||| |/||| |\|/| ||\/\ ||||| /||\| /||\| |||/| \|||| /\||| ||\/| |||/\ ||||\ /|/|\ |||/| |\||| |/\|| |||/\ ||\|/ ||/|| \|||/ \||\/ ||||| |||\/ \||/| ||/|| |\||\ /||/| |||\| |||\/ |/||\ ||||| \/||\ |/||/ ||\|| ||/\| ||||\ /\||/ ||||| |\/|| \|/|| |||/\ /|||\ |\|/| |||/\ ||||/ \|||| /||\| ||||\ /|||\ /|||/ |\||| |/\|| /||\| /|||| \|/|| |\|/| \|||| ||/\| |/||\ ||/|| \|||| /\\|/ ||||| \/||| |||\/ |/|\| ||||| /\\|/ ||||| |\/|/ ||||\ |||/\ |/||\ ||||| \/||| /|\|| ||\|/ |/|\| |\|/| ||||| /\|/| |\||| |\/|| |/||\ |/||\ ||/|| |\||| ||/\| ||\|/ |/||\ ||||\ /|/|\ ||||| /|\|| \|/|| |/||\ ||||\ /|||| |\/|/ |\||| /||\| |||\/ |/||| |\||/ \|||/ ||\|| ||/\| \|/|| |||/\ ||/|| |\||/ ||\|| |\/|| /|||| \|||\ /|||| |\/|| \|/|| /||\| |||/\ ||||| \/\|| /|||| ||\/| /|\|| ||\/| ||/|| \||/| |\||| /|\|| ||/\| |/||\ |/||| |\|/| ||\|/ |\||| |||/\ ||/|| \||/| |\||| |/\\| /|||| |\/|| ||||\ /|/|\ ||||| |/\\| /|||| ||\/| /|||| \|||/ \|/|| \|||| /||\| |||/\ \|/|| |||\/ |||/| \||\| /|||| ||/\| /||\| |||\/ |||/| |\|/| |\||/ ||||\ |||/\ |/||\ ||||| \/||| ||/\| |||\/ |/|\| ||/|| \|/|| \|||/ ||\|| /|||\ |/||\ |\/|| ||||| |\/|| /|\|| |||/\ |||/\ |||\| /|/|| ||\|| |\/|| /|||\ ||||/ \||/\ ||\/| ||||/ \|||| /||\| ||||\ /|/|| \|||/ |\||| \|/|| |||/\ \|/|| ||/\| ||/|| \||\/ ||||| /||\| ||\/| ||/|\ ||/|| ||\\/ ||||| ||\/| |/|\| |/||| |\|\| /|||/ ||\|| |/\|| ||/|\ ||||\ /|||| \/||/ ||\|/ ||\|| ||||\ /|/|\ ||||/ |\||| |\/|| |/|\| ||/|| \||/| \|||| |\/|| \|/|| /||\| ||\/| ||/|| \|||| /\||| ||/\| |||\/ ||/|| \|||| /\||\ /|||| ||\/| /|\|| |/||\ ||/|| |\||| |/\|| /\||| |/\|| |/||\ ||||/ \|||| |\//| |||\/ |||\| ||||/ \\|/| ||||| |\/|| ||\/| /|\|| |/||\ |||\/ ||/|| ||\|| |/\|/ ||\|| ||||/ \||/\ ||||| |/\|| \/||| |/|\| |/||\ ||||/ \|||| |\//| |||\| |||\/ ||/|\ ||||| /\||| /\||| ||/\| |/||\ ||||\ /|/|\ |||/| |\|/| ||\|\ |/||| |/\|| ||/\| |||/| |\||| ||\/| ||\/| ||\|/ ||/|\ |||/| |\||| |/\|| |/|\| |||/\ ||||\ /|\/| ||||/ ||\|| /|||\ ||||\ /|/|| \|/|| \||/| ||\|\ ||/|| ||||\ /|/|\ |||/| |\||| \/||| /||\| |\|/| ||/|| \|||| /\|\| /|||| /||\| ||||/ \||/| |\||/ ||\|| /|\|| /|||\ |/||\ |||\/ ||||| \/||| ||\/| /|\|| ||/|\ ||||\ /|||\ |/|/| |||\| ||\/| |||\/ ||||| /\/|| ||\|| ||\/| |||/\ /||\| |/||\ ||||| \/||| \|/|| |/|\| ||||\ /|/|\ ||||| |\/|/ |\||| /||\| ||||/ \||\/ ||/|| \|||/ ||\|| |\/|| |/||\ |/||\ ||||| \/|/\ ||||| /||\| ||||\ /|/|| |\|/| \||\/ ||||| |\/|| ||||/ \|\|/ ||||/ |\|/| |\||| /||\| /||\| |||/| |\||| |/\|| \/||\ |/||| |||\/ |/||| \|\|| /||/\ ||||/ ||||\ ||||\ /|/|| \|||| |\/|/ |\||/ ||||\ ||||\ /||/| \|||| |\/|| \|/|/ ||||\ |||\/ |/||| |\\/| |||\/ ||||/ ||||\ ||\/| ||/|| \|||| /\||| ||\/| |||\/ |/|\| |/||| |\||| |\/|| |\/|| |||/\ ||/\| ||/|| \|||| |/\|| |/\|| /||\| |/|\| |/||| |\/|| \|||| ||\// ||||\ /\||| ||/|| \|||| /\||| ||\/| /|\|| |/||\ ||||| \/||\ /|||| ||/\\ |/||| /|||\ ||/\| |||/| |\||| ||\/| |||/\ |/||\ |||/\ ||\/| ||||| ||\/\ ||/|| /|||| \|/\| |||/\ ||||| ||\/| /|\|| |/||\ |/||| \|||| |/\|| |\|/| /||\| |||\/ |/||| |\||| /\|/| |\||| |||\/ ||||/ \||\/ |||/| |\|\/ ||||/ ||||\ |/||| \/\|| ||||| |\/|/ |\||| /||\| ||/\| |\|/| ||||| /\||| /||\| |||/\ ||\/| ||||| \/\|/ ||||| |/\|/ ||||\ ||||\ /|/|| \||/\ |||\| |/||| |/||\ ||||/ \||\/ ||||| |\/|/ |\||| /||\| ||/\| |/||| |\||| /\|/| |\||| |/||\ ||||/ \||\/ ||||| |\/\| /|||| ||/\| /|||| \|||| \/|/| |\||/ \|||\ ||/|| ||/|| \|||| /\||\ /||\| /|||| ||\/| ||||\ /|/|\ |||/| |\||| /|\|| |\/|| \/||| ||/|| \|||| /\||/ |||\| /|\|| /|||| \|||/ \|||| |\/|| /||\| |||/\ ||\/| ||||| /\||\ /||/| |\||| /||\| ||\/| ||||\ /|||/ |\|/| \|||| ||/\| /|||| \|/\| |||/\ ||||/ ||\|/ ||\|| ||\|/ ||/|\ ||/|| ||\|| ||\/| |||\/ |/|\| ||/|| \|\|| /|||/ |\||/ ||||\ /||\| |/||\ ||||| |/\|| |/\|| /||\| |||/\ ||||| /\||| /\||/ ||\|| |||/\ ||/|| \|||| \/|/| \|||| /|\|| ||\/| |/|\| ||/|| \||/\ |||\/ ||||| ||\/| \|/|| ||||\ /|||| |\/|| ||/\/ ||\|| |/||\ ||||| \/|/| |\||| \/||| |/\|| ||/|\ ||||/ \||/| |\||| ||\/| /|\|| |/||\ ||||| /\||\ /|||| /|\|/ |\||| ||/|\ ||||/ \|/|| ||\|/ \|||| /|||\ ||||/ \|||/ \|||| |\/|/ ||\|| ||/\| ||||\ /|||\ /|||| |/\|| /||\| |||\/ |/|\| ||/|| \|||| |/\|| ||\/| /|\|| |/||\ |||\/ |||/| ||\|| \/||/ ||||\ ||||\ /|/|| \|||| |\/|/ |\||| |||/\ \|/|| |/|\| |||/| \|||| /|\|| /|\|| /|||| \|\|/ |||/| |\||| /\||\ ||/|| |||\/ |\|/| ||||| \/|\/ ||||| |/|\| |/||| \||/| \|||| |/\|| |/\|| ||\/| ||\|/ ||/|\ ||||/ |\||/ |||\| /|\|| |/|\| |/||| |\|\| /|||/ ||\|/ |||\| |/||\ ||/|| \|||| /\|\/ ||||| |\/|| ||||/ \||/\ ||\/| ||||| ||\/| /||\| /||\| |/||| \|\|| /|||| ||\/| /|\|| |/||\ ||||\ /||/| |\||/ |||\| |||/\ |||/\ |/||\ ||||| /|\/| |||\| ||/\| \|/|| ||||\ /|\/| ||||| \/||| |||/\ |||/| \|/|| \||/| ||\|| ||\/| |/||\ ||/|\ ||/\| |||/| |\||| /|\|| /\||| |/||\ |/||| |\|\| /|||/ ||\|| |/|\| ||||\ /|||| \/||| |/\\| |/||| |||/\ \|/|| |/||| \|||| |/\|| ||\/| /|\|| ||||\ /|||| /\|/| ||\|| ||/\| ||/\| |||\/ |||/| \|/|| \|||/ ||\|| |\/|| ||/|\ ||||| \/||| \/||/ |||\| |||/\ |||/\ ||||| \/|/| |\||| |/\|| |||\/ |||\/ ||||| \/||| |/\|| |\/|| /||\| |/||\ |||/| \|||/ ||\\| |/||| |||/\ \|/|| |/||| |\||\ /|||/ ||\|/ ||\|| ||\/| |/||| |\||\ |/||| |/\|| |||\/ ||||/ \|||| \/|/| \|||/ ||\|| ||\/| /|||| \||/\ |||/| |\|/| |||\| /\||| /|||| \||\/ ||||/ \|||| /|\|| ||/\| /|\|| ||/|| |\||| |/\|| |/\|| /|||\ |/\|| |\|/| ||||| \/||| /|\|| |||/\ |||/\ |/||| |\||| \/|/| |||\| |/\|| ||/|\ |||\| /|||/ |\||| ||\/| /|\|| ||/\| |\||/ ||||/ ||\|| ||/\| ||/\| /||\| ||/|| \|||| \/||| ||\/| |\/|| |/||\ |/|\| ||/|| ||\|| \/||/ ||\|| |||\/ |/||| |\/|| \||/| |||\| /\||| ||||/ \|\|/ |||/| |\||/ \|||/ ||||\ |/||| \|/|| \|\/| ||||| |\/|| |/|\| ||\/| ||/|| \|/|| ||\|/ \|||| |/|\| |||\/ ||/|| \|||| /\||| ||/\| |\|/| ||||\ /|/|\ ||/|| ||\|| ||\/| |/|\| |||\/ ||/|\ ||||| |/\\| /|||| /\||| /||\| ||/|\ ||/|| ||\|\ |/||| /||\| ||||\ //||| |\/\| ||||/ ||\|| ||/\| |/||| \/||| |\||\ /|||/ ||\|| |||\/ ||||/ \|/|| \|||| /\||/ |||\\ ||/|| \/||| ||/|\ |||/| |\||| \/||| |||\/ |/|\| |||/| \|||| \/||| /\||| /||\| |||\/ ||||\ /|/|| ||\/| \|||| /||\| /|||\ ||/|| \|||/ ||\|| ||/\| |\/|| |/||\ ||/|| \|||| /\||/ |||\| |||/\ /||\| |||/| \|||| /\|/| \|||| |/|\| ||||\ /|||| /\||| /\||| ||\/| /|\|| |/||\ ||||/ \||/| |\||| \|/|| |||\/ |/||\ ||/\| |||/| |\|/| \|||| |\/|| /|||| \\/|| |||/| \||\| |/||| ||\/| \||/| ||||\ /|||| |\/|/ ||\|| |/\|| |/|\| ||||| /\||\ |/||/ ||\|| \|/|| |/||\ |||\/ ||/|\ ||||| /|\|| \|/|| |/||\ ||||/ \|||| |\/|/ |\||| /||\| \|/|| |||\/ ||/|\ ||||/ ||\|| ||/\| |/||| \\||/ ||||| |/\|| /||\| |||\/ |/|\| |||/| \|||| \/||| /\||| /||\| |||\/ ||||\ /|/|| ||\/| \|||| /||\| /|||| \|||/ \|/|| \|||| |\/|| |/|\| |||/\ ||/|| |\|/| |\||| \|/|| /||\| /|||| \||\/ |||/| |\||| ||\/| /|\|| |/||\ ||||| /\||| /\||/ \|||\ ||/|| \/||| |/||| |\||\ /|||| ||\/| |/|\| |/||\ ||||\ /|||| |\/|| ||/\| |||\/ |/|\| ||/|| \|\|/ |||\/ ||||/ |\||| ||\/| |/||| |\/|| \|||/ ||\|/ ||\|| ||/\| |/||| |\|/| ||\|/ |\||| |/|\| |||/\ ||/|| \|||| \/||| /|\|| /|\|| /|||| \|\|/ |||/| |\|/| |\||| /||\| |/||| \||/| \|/|| \|||/ ||\|/ ||\|| ||||\ /|||| /\||\ /|||| /|\|| ||\/| /\||| ||||\ /||/| |\||| |/\|/ ||\|| ||/|\ ||||/ \|/|\ ||||| /|\|| |||\/ ||\|/ |||/| \|||| |\/|/ |\||| |||/\ \|/|| ||||| \/||/ ||\\| /|||| |\/|| ||||\ /|/|\ |||/| |\||| \/||| /||\| ||/|| \||/| |\||| |/\|| \/||| |||\/ ||/|\ ||||/ \|||| |\/|/ |\||| /||\| \|/|| ||||/ \||/\ ||||| /|\|/ \|||| |/||\ ||/\| ||\|| /|||/ ||\|| \|/|| |/||\ ||||/ \|||| |\/|| ||\/| /|\|| /|||| \|||| \//\| |||/| |||\| |/|\| |||\/ ||/|| \|||\ /|||| ||/\| |\/|| |/|\| |||/| \|||| \/||/ |||\| |||/\ |/||| \|||| /\||| /\||| |\/|\ /|||| ||/|\ |||\/ ||/|| ||\|| ||\/| |||/\ ||\/| ||||\ /|||/ |\||| |/\|| |||\/ |/||\ |||\/ |||/| ||\|/ ||\|\ /|||| ||||\ /|||| /\\|/ ||||| \/||| /|||\ ||||/ \||/\ ||||/ \||\| /|||| ||/\| ||/|\ ||/|| |\/|| ||\|| ||\/| |/|\| ||||/ \|||/ \|||| \/|/| |||\| ||/\| /||\| |/||\ |||/| |\||/ |||\| |||/\ /||\| ||/|| \|||| |\/|/ |\||| /||\| ||/\| ||||| \/|/| \|||/ ||\|| ||/\| /|||| \|||| \/||\ |/||| ||/\| |\/|| |||\/ ||||| \/||| |\/|/ |\||| /||\| \||/| |||\| /|||/ |\||/ \|||| /\||| |||\/ |\|/| ||||\ /|||/ ||\|| /\||| \||/| |||\/ |||/| |\|/| |||\| /\||| ||/|\ ||||\ /||/| |\||| ||\/| /|\|| /|||| \|||| \/||| |\/|/ |\||| /||\| /|\|| |/||| |\||/ \|||/ ||\|| |/|\| |||\/ |\|/| ||\/| |||/| ||\|| |\/|| ||/|\ ||||/ \|/|\ ||||| /|\|| ||/\| /|\|| |/||| |\||| /\||/ ||\|| ||/\| /||\| ||||| \/||| |/\|| ||\/| /|\|| |/||\ |||/| \|||\ /||\/ ||||| /\||| /|||| \|||/ \|||| \/||| /|\|| |/||\ ||/\| |\||/ ||||| \/|\| /|||| ||\/| \/||| |||/| \||/| ||\|| /|\|| |||/\ |||/\ ||||\ /|/|| ||\|| \/||| /||\| |/||| \|||| /\||\ /|||| \/||| /||\| |/||| \|||| \/||| |\/|/ |\||/ ||||\ ||||\ /||\| /|||| |/\\| /|||| /\||| /||\| |/||| \||/| |\|/| |||\| \|/|| ||/|\ ||/|| |\||| |\/|| ||/\| |\/|| \||/| ||||| /\||/ ||\|| |\/|| |||/\ ||\/| ||||| \/||| \/|\/ ||||| |\/|| |/||\ ||\|/ |||/| |\||| |/\|| |||\/ ||/|\ ||||/ \|/|\ ||||| ||\/| /|\|| |/||\ |||/| |\||| |/\|| \/||| |||\/ |/|\| ||/|| |\||| |/\|| /\||| |/|\| |||/\ |/|\| ||/|| \|||| /|\|| ||\/| /|||| \|||\ /|||| |\/|/ ||\|| |\/|| ||/|\ ||||\ /|||| \/|\| /|||| |\/|| |/||\ ||/\| ||\|| /|||| /\||| |||/\ ||\/| ||/|| \|||/ |\||| /\||\ /|||| ||||/ \||\/ ||||| |\//| |||\| ||/\| ||||\ /|||| \/|/| \||/| |||\| ||/\| |/||\ ||||\ /|||| |\//| |||\/ |||\| |/\|| |||/| \|||| \/||/ |\||| |/|\| |||/\ |/|\| ||\/| ||||| \/||| |||/\ ||||/ \||/| |\||| |\/|/ |\||/ ||||\ ||||\ /|/|\ |||/| |\||| \/||| |\/|| /\||| |/||| |\||/ |\||| |\/|| /||\| ||\/| |||/| \|||| \/|/| ||\|| /||\| |/|\| |||/| \|||| /\|/| |\||| |/|\| ||||\ /""".replace(" ", "")
        val datablock = new CipherDataBlock(ciphertext.toCharArray(), AsciiAlphabet)
        val perms = List(0,1,2,3).permutations
        val transposed = perms.map(x => {
            TranspositionCipher.decrypt(datablock, x.toIndexedSeq)
        });
        // println(transposed.map(x => x.mkString.take(10)).mkString("\n"))
        val filtered = transposed.filter(x =>
            !x.mkString.contains("\\|") && !x.mkString.contains("|/")
        )
        println(filtered.size)
        println(filtered.map(x => x.mkString.take(100)).mkString("\n"))

        val frequencies = ciphertext.groupBy(identity).mapValues(_.size).toMap

        perms.foreach(x => println(x.mkString))
    }

    def main(args: Array[String]): Unit = {
        job()
    }
}
