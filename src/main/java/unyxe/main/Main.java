package main;

import main.breakers.VigenereCipherBreaker;
import main.utils.*;

public class Main {
    public static void main(String[] args) {
        Constants.initialize(false, true);

        String cipherText = """
                BPPOFDATNWBDLJZOIACTQJJXTJZOTSIUQTPZLPZAJDQUUAXUBIBTFM
                AVDMUTIUUIDOMQFGPGZPRNFDBPPQTOCTEBIQDBXCFANUTMNMBFDQBX
                KPZKFDVJZOUTMFZOMUAIQVDDGQFQPZMOSQOQWONMIMTGANNKUBEBFD
                KEMAZACDMVTQMJTIWQUPHMERZPYAPGBIMUQFWOFWBZIEPZFEAJZTPZ
                LPZIOPAVSOFEBZACTTWVXLNQMUYMUTMSQIUZWPZIXQMLAVXQLOQAEM
                GQXMBEMDAUFMTPZMBEQGQISFPFYIUQZJMTJEAIMTMIMTMGJZNMMUNM
                JMQQUIWVXLCQUPEBVZNPDBVZIUQQGMABDMTGTUANBZIUFIDWWGZMSH
                MTUEFDMUASOAKLADFDIMMVUQZOAZQQZIMXTPZPBIMUOIFMEOQHMZJZ
                BIQDJOQOUBZANUTMTFWDWWGOPFYQDMTTUPBHMTFWSQLIQZFOPFYQTF
                ZZUATGKIMXMQITMVUPQWQZTUWORWSFPFOCSUWVEUJZLBZLXUBIEWNM
                VZRITOQOMBJZOBZLSMBIQZQXMBEQOSIQBTJOIUUWOEQOFPFYWEQZOI
                WSXLJYAVDMZACXUTMMOSQMPRKPGZTQBIQXMQITGZFUVTGKIMBSMVTM
                KUUWOUAOQKFEABDQMKUVFCBXIOPQIAXFFPBFIMXCOBTFMABZBOQATM
                DPULFPQXUTMNMBNTFFWTMBJENZKWVDKVDQPEQUKKPZKFDVJZOQDWGN
                ICNIHQAEQDJOMBZLZACXUTMNMBNTFFWTMBJENZYGNMAUQZTZMFPNPD
                KVDZFZKZMABSMOFTFYIOUINECSQPFRMMFCOMJMQBPPQTOCTEBFDUTI
                QUTGPGJVFITTQTRIJFPGGTTQZWMVUUUVEBPRKPGZTQMOPMBHWVDBPM
                ZSUDFMBBZIHDMFYMOFNBHWVDICXMUAPJYQUDCTFEFGVEQZTFIOPWOQ
                IOABIQZBZLUTIUACSYMFFQOSEJXTJZLFQLCQIQXMBECSQNPDCTNWUT
                XMQITQZFBTZUVUTMVECBXNBEPJAVZACSEMT
                """;
        String plainText = """
                ADALOVELACEANDCHARLESBABBAGEARETWOOFTHEMOSTIMPORTANTMEMBERSOFOURCOMMUNITYTHEYFEATUREDINTHEFIRSTNATIONALCIPHERCHALLENGEANDAGAINSOMEYEARSLATERWHENWEEXPLOREDTHEIREARLYMEETINGINTHISADVENTUREWEARERETURNINGTOTHEENDOFHERLIFEATLEASTTHEPARTRECORDEDINTHEARCHIVESATBOSSHEADQUARTERSIFOUNDTHISSTORYBYACCIDENTWHENIWASRESEARCHINGTHEROLEOFTHEROYALFAMILYINOURNATIONALSECURITYMANYOFTHEMSERVEDINTHEMILITARYANDAREFAMILIARWITHCODESANDCIPHERSANDIWONDEREDHOWFARBACKTHATINTERESTWENTTHATWASHOWISTUMBLEDACROSSANOTEFROMPRINCEALBERTTOLORDPALMERSTONANDTHATSTARTEDMEDOWNTHERABBITHOLETHATLEDUSHEREIHOPEYOUENJOYITASMUCHASIDIDWEWILLMEETSOMEFASCINATINGNEWCHARACTERSONTHEWAYANDTHESTORYTAKESATWISTORTWOOFCOURSEIKNOWHOWITENDSYOUDONTYETBUTIFYOUSTICKWITHITYOUWILLANDLIKEMEYOUWILLPROBABLYLEARNSOMETHINGONTHEWAYIHAVEPOSTEDASKETCHOFABULLETTHATWASSENTTOADABACKINONTHECASEFILESPAGETHATWASWHERETHESTORYBEGANANDWHATDREWADAINTAKEALOOKANDSEEIFYOUCANFIGUREOUTWHATITMIGHTHAVEMEANTITISNOTABADPLACETOSTART
                """;
        cipherText = TextFormatter.formatText(cipherText);
        plainText = TextFormatter.formatText(plainText);


        long startTime = System.currentTimeMillis();

        VigenereCipherBreaker.bruteforce(cipherText, 4);

        long endTime = System.currentTimeMillis();
        System.out.println("Execution time: " + (endTime - startTime) + "ms");
    }
}
